{% extends "base.html" %}

{% block title %}Control - Solar Sync{% endblock %}

{% block content %}
<div class="control-page">
    <!-- Header -->
    <div class="dashboard-header">
        <h1><i class="fas fa-cogs"></i> System Control</h1>
        <div class="status-indicator">
            <span class="status-dot online"></span>
            <span class="status-text">System Online</span>
        </div>
    </div>

    <!-- System Status -->
    <div class="system-status">
        <div class="status-card">
            <h3><i class="fas fa-server"></i> System Status</h3>
            <div class="status-value" id="system-status">Online</div>
        </div>
        
        <div class="status-card">
            <h3><i class="fas fa-microchip"></i> Hardware Mode</h3>
            <div class="status-value" id="hardware-mode">Simulated</div>
        </div>
        
        <div class="status-card">
            <h3><i class="fas fa-clock"></i> Uptime</h3>
            <div class="status-value" id="system-uptime">--</div>
        </div>
        
        <div class="status-card">
            <h3><i class="fas fa-memory"></i> Memory Usage</h3>
            <div class="status-value" id="memory-usage">--</div>
        </div>
    </div>

    <!-- Device Control -->
    <div class="device-control-section">
        <div class="section-header">
            <h2><i class="fas fa-plug"></i> Device Control</h2>
            <button class="btn btn-primary" id="refresh-devices">Refresh Devices</button>
        </div>
        
        <div class="devices-grid" id="devices-grid">
            <!-- Devices will be loaded here -->
            <div class="loading">Loading devices...</div>
        </div>
    </div>

    <!-- System Control -->
    <div class="system-control-section">
        <div class="section-header">
            <h2><i class="fas fa-power-off"></i> System Control</h2>
        </div>
        
        <div class="control-actions">
            <div class="control-group">
                <h3>System Operations</h3>
                <div class="button-group">
                    <button class="btn btn-warning" id="restart-system">
                        <i class="fas fa-redo"></i> Restart System
                    </button>
                    <button class="btn btn-danger" id="shutdown-system">
                        <i class="fas fa-power-off"></i> Shutdown System
                    </button>
                </div>
            </div>
            
            <div class="control-group">
                <h3>Data Management</h3>
                <div class="button-group">
                    <button class="btn btn-secondary" id="backup-data">
                        <i class="fas fa-download"></i> Backup Data
                    </button>
                    <button class="btn btn-secondary" id="clear-data">
                        <i class="fas fa-trash"></i> Clear Data
                    </button>
                </div>
            </div>
            
            <div class="control-group">
                <h3>Simulation Control</h3>
                <div class="button-group">
                    <button class="btn btn-info" id="toggle-simulation">
                        <i class="fas fa-play"></i> Toggle Simulation
                    </button>
                    <button class="btn btn-info" id="reset-simulation">
                        <i class="fas fa-undo"></i> Reset Simulation
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Control Log -->
    <div class="control-log-section">
        <div class="section-header">
            <h2><i class="fas fa-list-alt"></i> Control Log</h2>
            <button class="btn btn-sm" id="clear-log">Clear Log</button>
        </div>
        
        <div class="log-container">
            <div class="log-entries" id="control-log">
                <div class="log-entry info">
                    <span class="log-time">[12:00:00]</span>
                    <span class="log-message">System control interface initialized</span>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
    // Control page specific JavaScript
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize control page
        initControlPage();
    });
</script>
{% endblock %}
